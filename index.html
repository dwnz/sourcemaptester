<html>
	<head>
		<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
		<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
		<link text="text/css" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<title>Source Map Tester</title>
	</head>
	<body>
		<div class="container"  id="loader">
			<h1 class="text-center">Connecting...</h1>
			<h5 class="text-center">This shouldn't take long</h5>
		</div>
		<div class="container hidden" id="view">
			<div class="row">
				<div class="col-md-12">
					<h1>Source Map Tester</h1>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="panel">
						<div class="form-group">
							<label>
								Javascript URL
							</label>
							<input type="url" id="url" class="form-control input-block">
							
						</div>
						<input type="button" id="process" value="Validate" class="btn btn-primary">
					</div>
				</div>
			</div>
			<div class="panel">
				<label>
					Log
				</label>
			<ol id="log"></ol>


			<br><br><br>
			<footer>
				<p>
					Built (very quickly) by <a href="https://twitter.com">@dwnz</a>. Want to make it better? <a href="https://github.com/dwnz/sourcemaptester">Github</a>
				</p>
			</footer>
		</div>
	</div>
	<script>
		$(function(){
			var socket = io();
			$('#process').click(function(){
				$('#log').html('');
				$(this).attr('disabled','disabled').val('Processing...');
				socket.emit('process',$('#url').val());
			});
			socket.on('connect', function(){
				$('#loader').remove();
				$('#view').removeClass('hidden');
			});
			socket.on('log', function(msg){
				$('#log').append('<li>' + msg + '</li>');
			});
			socket.on('done',function(){});
		});
	</script>
</body>
</html>